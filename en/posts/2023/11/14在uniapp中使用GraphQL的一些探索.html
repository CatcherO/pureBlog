<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>在 uniapp 中使用 GraphQL 的一些探索 | Justin3go</title>
    <meta name="description" content="A T-shaped front-end developer who is committed to deepening expertise in the technical field, focuses on independent development and AI, enjoys working with Vue.js and Nest.js, and has some knowledge of Python, search engines, NLP, Web3, and back-end development.">
    <meta name="generator" content="VitePress v2.0.0-alpha.2">
    <link rel="preload stylesheet" href="/assets/style.CS7kqkBr.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Br7lpd5W.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DB_jWPTw.js">
    <link rel="modulepreload" href="/assets/chunks/framework.Dw9xXWbv.js">
    <link rel="modulepreload" href="/assets/en_posts_2023_11_14在uniapp中使用GraphQL的一些探索.md.DakrAg89.lean.js">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-MB7XVBG1TQ"></script>
    <script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("config","G-MB7XVBG1TQ");</script>
    <link rel="icon" href="https://oss.justin3go.com/justin3goAvatar.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
    <meta property="og:url" content="https://justin3go.com/en/posts/2023/11/14在uniapp中使用GraphQL的一些探索.md">
    <meta property="og:title" content="在 uniapp 中使用 GraphQL 的一些探索">
    <meta property="og:description" content="A T-shaped front-end developer who is committed to deepening expertise in the technical field, focuses on independent development and AI, enjoys working with Vue.js and Nest.js, and has some knowledge of Python, search engines, NLP, Web3, and back-end development.">
    <meta property="og:image" content="https://justin3go.com/bg.jpg">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:description" content="A T-shaped front-end developer who is committed to deepening expertise in the technical field, focuses on independent development and AI, enjoys working with Vue.js and Nest.js, and has some knowledge of Python, search engines, NLP, Web3, and back-end development.">
    <meta name="twitter:image:src" content="https://justin3go.com/bg.jpg">
    <link rel="preload" href="/assets/FiraCode-VF.Bc8wnsZt.woff2" as="font" type="font/otf" crossorigin="">
    <link rel="preload" href="/assets/FiraCode-VF.Bc8wnsZt.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="/assets/FiraCode-VF.Bc8wnsZt.woff2" as="font" type="font/ttf" crossorigin="">
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-564dc390><!--[--><!--]--><!--[--><span tabindex="-1" data-v-749edff9></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-749edff9>Skip to content</a><!--]--><!----><header class="VPNav" data-v-564dc390 data-v-751b031e><div class="VPNavBar" data-v-751b031e data-v-2584da50><div class="wrapper" data-v-2584da50><div class="container" data-v-2584da50><div class="title" data-v-2584da50><div class="VPNavBarTitle" data-v-2584da50 data-v-41075308><a class="title" href="/en/" data-v-41075308><!--[--><!--]--><!----><span data-v-41075308>Justin3go</span><!--[--><!--]--></a></div></div><div class="content" data-v-2584da50><div class="content-body" data-v-2584da50><!--[--><!--]--><div class="VPNavBarSearch search" data-v-2584da50><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-2584da50 data-v-00096a19><span id="main-nav-aria-label" class="visually-hidden" data-v-00096a19> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/" tabindex="0" data-v-00096a19 data-v-0fd75337><!--[--><span data-v-0fd75337>Blog</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/pages/archive/" tabindex="0" data-v-00096a19 data-v-0fd75337><!--[--><span data-v-0fd75337>Archive</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/pages/about" tabindex="0" data-v-00096a19 data-v-0fd75337><!--[--><span data-v-0fd75337>About</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/en/pages/tags" tabindex="0" data-v-00096a19 data-v-0fd75337><!--[--><span data-v-0fd75337>Tags</span><!--]--></a><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-2584da50 data-v-23936dce data-v-64745a70><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-64745a70><span class="text" data-v-64745a70><span class="vpi-languages option-icon" data-v-64745a70></span><!----><span class="vpi-chevron-down text-icon" data-v-64745a70></span></span></button><div class="menu" data-v-64745a70><div class="VPMenu" data-v-64745a70 data-v-99462cbb><!----><!--[--><!--[--><div class="items" data-v-23936dce><p class="title" data-v-23936dce>English</p><!--[--><div class="VPMenuLink" data-v-23936dce data-v-aa274b7d><a class="VPLink link" href="/posts/2023/11/14%E5%9C%A8uniapp%E4%B8%AD%E4%BD%BF%E7%94%A8GraphQL%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E7%B4%A2" data-v-aa274b7d><!--[--><span data-v-aa274b7d>简体中文</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-2584da50 data-v-956884f9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-956884f9 data-v-6a30ab3d data-v-4e5e2e7f><span class="check" data-v-4e5e2e7f><span class="icon" data-v-4e5e2e7f><!--[--><span class="vpi-sun sun" data-v-6a30ab3d></span><span class="vpi-moon moon" data-v-6a30ab3d></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-2584da50 data-v-ca38e212 data-v-2b10591f><!--[--><a class="VPSocialLink no-icon" href="https://x.com/Justin1024go" aria-label="x" target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/Justin3go/justin3go.com" aria-label="github" target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="/feed-en.xml" aria-label target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>RSS</title><path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z"/><path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z"/><path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-2584da50 data-v-1b1fccd9 data-v-64745a70><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-64745a70><span class="vpi-more-horizontal icon" data-v-64745a70></span></button><div class="menu" data-v-64745a70><div class="VPMenu" data-v-64745a70 data-v-99462cbb><!----><!--[--><!--[--><div class="group translations" data-v-1b1fccd9><p class="trans-title" data-v-1b1fccd9>English</p><!--[--><div class="VPMenuLink" data-v-1b1fccd9 data-v-aa274b7d><a class="VPLink link" href="/posts/2023/11/14%E5%9C%A8uniapp%E4%B8%AD%E4%BD%BF%E7%94%A8GraphQL%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E7%B4%A2" data-v-aa274b7d><!--[--><span data-v-aa274b7d>简体中文</span><!--]--></a></div><!--]--></div><div class="group" data-v-1b1fccd9><div class="item appearance" data-v-1b1fccd9><p class="label" data-v-1b1fccd9>Appearance</p><div class="appearance-action" data-v-1b1fccd9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-1b1fccd9 data-v-6a30ab3d data-v-4e5e2e7f><span class="check" data-v-4e5e2e7f><span class="icon" data-v-4e5e2e7f><!--[--><span class="vpi-sun sun" data-v-6a30ab3d></span><span class="vpi-moon moon" data-v-6a30ab3d></span><!--]--></span></span></button></div></div></div><div class="group" data-v-1b1fccd9><div class="item social-links" data-v-1b1fccd9><div class="VPSocialLinks social-links-list" data-v-1b1fccd9 data-v-2b10591f><!--[--><a class="VPSocialLink no-icon" href="https://x.com/Justin1024go" aria-label="x" target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><span class="vpi-social-x"></span></a><a class="VPSocialLink no-icon" href="https://github.com/Justin3go/justin3go.com" aria-label="github" target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="/feed-en.xml" aria-label target="_blank" rel="noopener" data-v-2b10591f data-v-02ac415a><svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" viewBox="0 0 512 512"><title>RSS</title><path d="M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z"/><path d="M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z"/><path d="M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-2584da50 data-v-0849970b><span class="container" data-v-0849970b><span class="top" data-v-0849970b></span><span class="middle" data-v-0849970b></span><span class="bottom" data-v-0849970b></span></span></button></div></div></div></div><div class="divider" data-v-2584da50><div class="divider-line" data-v-2584da50></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-564dc390 data-v-e1ebba9a><div class="container" data-v-e1ebba9a><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-e1ebba9a data-v-7507ff33><button data-v-7507ff33>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-564dc390 data-v-4aa0dc64><div class="VPDoc has-aside" data-v-4aa0dc64 data-v-848df726><!--[--><!--[--><!--[--><div class="image-viewer"><!----></div><!--]--><!--]--><!--]--><div class="container" data-v-848df726><div class="aside" data-v-848df726><div class="aside-curtain" data-v-848df726></div><div class="aside-container" data-v-848df726><div class="aside-content" data-v-848df726><div class="VPDocAside" data-v-848df726 data-v-972f1da3><!--[--><!--[--><!--[--><!--[--><button style="margin-bottom:10px;" class="t-button t-button--variant-dashed t-button--theme-default t-button--shape-rectangle" type="button" href tabindex="0" data-v-14104950><!--[--><!--[--><svg fill="none" viewBox="0 0 24 24" width="1em" height="1em" class="t-icon t-icon-rollback" style="" data-v-14104950><path fill="currentColor" d="M20.93 14A7 7 0 0114 20H5.5v-2H14a5 5 0 100-10H6.91l2.5 2.5L8 11.91 3.09 7 8 2.09 9.41 3.5 6.91 6H14a7 7 0 017 7v1h-.07z"></path></svg><!--]--><span class="t-button__text"><!--[--> Go back <!--]--></span><!--]--></button><!--]--><!--]--><!--]--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-972f1da3 data-v-ea135747><div class="content" data-v-ea135747><div class="outline-marker" data-v-ea135747></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-ea135747>On this page</div><ul class="VPDocOutlineItem root" data-v-ea135747 data-v-2594594e><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-972f1da3></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-848df726><div class="content-container" data-v-848df726><!--[--><!--]--><main class="main" data-v-848df726><div style="position:relative;" class="vp-doc _en_posts_2023_11_14%E5%9C%A8uniapp%E4%B8%AD%E4%BD%BF%E7%94%A8GraphQL%E7%9A%84%E4%B8%80%E4%BA%9B%E6%8E%A2%E7%B4%A2" data-v-848df726><div><h1 id="在-uniapp-中使用-graphql-的一些探索" tabindex="-1">在 uniapp 中使用 GraphQL 的一些探索 <a class="header-anchor" href="#在-uniapp-中使用-graphql-的一些探索" aria-label="Permalink to &quot;在 uniapp 中使用 GraphQL 的一些探索&quot;">​</a></h1><blockquote><p>✨文章摘要（AI生成）</p></blockquote><p>笔者在这篇文章中分享了在 uniapp 中使用 GraphQL 的探索过程。首先提到，虽然 GraphQL 在 nest.js 等服务端应用中有丰富的资料，但在 uniapp 的技术栈中相对匮乏。因此，笔者介绍了如何利用一个名为 Villus 的小库来实现与 Vue 的响应式结合，简化 GraphQL 的使用。</p><p>接着，笔者详细说明了如何将 Villus 的 fetch 请求替换为 uni.request，以适配 uniapp 的网络请求方式。通过创建 setup.ts 文件并重写 fetch，成功实现了 uniapp 中 GraphQL 的请求功能。此外，笔者还建议将 GraphQL 查询字符串单独封装，提高代码的可读性和管理性，并展示了如何在组件中实际使用这些封装好的查询。</p><p>最后，笔者希望能为国内的 uniapp 与 GraphQL 结合提供一些参考，并期待与读者的讨论。</p><h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-label="Permalink to &quot;前言&quot;">​</a></h2><p>前面做了一个小程序，<a href="https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/05/07%E4%B8%A4%E4%B8%AA%E5%A4%9A%E6%9C%88%E6%8D%A3%E9%BC%93%E4%BA%86%E4%B8%80%E4%B8%AA%E5%81%A5%E5%BA%B7%E7%B1%BB%E5%B0%8F%E7%A8%8B%E5%BA%8F.html" target="_blank" rel="noreferrer">传送门</a>，最近正在重构这个小程序，线上的暂时不能访问，敬请期待！</p><p>其中使用了 GraphQL 的技术，对于服务端如 nest.js 应用程序对于 GraphQL 的支持以及相关资料都非常丰富，这里就不细谈了；但是关于国内技术栈 uniapp 对于 graphQL 的资料就相对来说比较少了。</p><p>所以这里简单谈谈我在 uniapp 这个 client 中是如何使用 GraphQL 的。当然，请注意标题《探索》二字，这并不是最佳实践，如果你有更好的写法，也欢迎讨论~</p><p>其他：如果你对 GraphQL 一无所知，关于 GraphQL 是什么，有什么好处，可以瞧瞧我之前写的这篇文章--<a href="https://justin3go.com/%E5%8D%9A%E5%AE%A2/2023/01/28%E4%BA%86%E8%A7%A3API%E7%9B%B8%E5%85%B3%E8%8C%83%E5%BC%8F(RPC%E3%80%81REST%E3%80%81GraphQL).html" target="_blank" rel="noreferrer">了解 API 相关范式（RPC、REST、GraphQL）</a></p><blockquote><p>此文章基于 vue3/vite 版</p></blockquote><h2 id="使用-villus" tabindex="-1">使用 Villus <a class="header-anchor" href="#使用-villus" aria-label="Permalink to &quot;使用 Villus&quot;">​</a></h2><p>如果你的项目属于 Vue+GraphQL，也许你就可以试试这个<a href="https://villus.logaretm.com/guide/overview/" target="_blank" rel="noreferrer">小而美的库<code>Villus</code></a></p><p>这个库和 Vue 的响应式结合得非常好，对 Vue 熟悉的话使用起来也较为优雅，比如官网中的这个例子使用查询：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> v-if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;data&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ data }}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">pre</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useQuery } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;villus&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  query: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{ posts { title } }&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>值得注意的是，<code>data</code>变量就已经被封装成了响应式，所以你可以很方便地在 template 中使用它。</p><h2 id="更改-villus-的网络请求方式为-uni-request" tabindex="-1">更改 villus 的网络请求方式为 uni.request <a class="header-anchor" href="#更改-villus-的网络请求方式为-uni-request" aria-label="Permalink to &quot;更改 villus 的网络请求方式为 uni.request&quot;">​</a></h2><p>由于 Uniapp 等小程序中使用的都是自己的网络请求方法，比如封装的<code>uni.request</code>，这里我们需要使用<code>uni.request</code>替换其中的 fetch 插件，大致过程如下：</p><p><img src="https://oss.justin3go.com/blogs/villus-fetch.png" alt=""></p><p>具体来说，我们在某个文件夹下（比如我是 src/graphql）中创建一个 setup.ts，这里参考了<a href="https://rea.ink/blogs/frontend/uni-app-graphql.html" target="_blank" rel="noreferrer">这篇文章</a>的相关逻辑：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { createClient, fetch } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;villus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Methods</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;OPTIONS&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;GET&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;HEAD&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;POST&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;PUT&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;DELETE&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;TRACE&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;CONNECT&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 此处重写 fetch，请求采用 UniAPP 提供的 uni.request</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> fetchPlugin</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">options</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">request</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        url: url.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">toString</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        method: options?.method </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Methods</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        data: options?.body </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        header: options?.headers,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        success</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">res</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ok: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            status: res.statusCode,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            headers: res.header,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            text</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> JSON</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stringify</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(res.data),</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">async</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> res.data,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Response</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        fail</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">e</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    });</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> apolloClient</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> createClient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  url: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`${</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">meta</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">env</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">VITE_SERVER_IP</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">}/graphql`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  use: [fetchPlugin],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><p>此时，关于在 uniapp 中使用 villus 相对于 web 方便使用的特殊逻辑就处理完成了</p><h2 id="稍微封装一下" tabindex="-1">稍微封装一下 <a class="header-anchor" href="#稍微封装一下" aria-label="Permalink to &quot;稍微封装一下&quot;">​</a></h2><p>平常我们在使用 axios 请求时，基本都会将 api 字符串单独提出来放在一个文件夹如<code>src/apis/</code>之类的。这里我们也将需要使用到的 graphql 字符串单独提出来，放在我们之前创建的文件夹<code>src/graphql</code>下。当然，你可以根据自己的习惯进行自定义。</p><p>针对每一个模块，我都单独建立了一个文件<code>graphql-XXX.ts</code>，比如用户模块就是<code>graphql-user.ts</code>，都放置于<code>src/graphql/</code>下。</p><p>其中的文件内容就是关于 graphql 的查询字符串，比如：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// graphql-user.ts</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> gql </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;graphql-tag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> refreshToken</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> gql</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  mutation refreshToken($token: JWT!) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    refreshToken(token: $token) {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      accessToken</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      refreshToken</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  }</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 更多...</span></span></code></pre></div><p>然后为了方便其他文件导入，我又在<code>src/graphql/</code>下新建了一个<code>index.ts</code>文件：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> home </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./graphql-home&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> questionnaire </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./graphql-questionnaire&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> analyze </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./graphql-analyze&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> *</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;./graphql-user&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* how to use</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">import GQL from &quot;@/graphql&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">const curGQL = GQL.home.listAsOwner</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">**/</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  home,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  questionnaire,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  analyze,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  user,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">};</span></span></code></pre></div><p>这里你也可以选择直接<code>export * from &quot;./graphql-home&quot;;</code>这样，但是由于可能不容模块的查询字符串存在命名冲突，所以选择了上述方式导出，这样就有了一个命名空间，使用其他就是上方注释的部分：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GQL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@/graphql&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> curGQL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> GQL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.home.listAsOwner</span></span></code></pre></div><h2 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h2><p>好的，写了这么多，接下来就开始在实际需求中使用上述封装的部分，比如这样一个查询数量并展示的组件就是这么写的：</p><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    class=&quot;analytics-count-container uni-white-bg uni-shadow-sm uni-radius-lg&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-col</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;14&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">image</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;img&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          style</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;width: 100%&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          mode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;widthFix&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          :src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;countLeft&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &gt;&lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">image</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-col</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> :span</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;10&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;label uni-mt-8 uni-primary-dark&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;top&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;已填写&lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          &lt;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;bottom uni-mt-4&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;{{ count }}&lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-col</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">uni-row</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  &lt;/</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">view</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">template</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> setup</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> lang</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;ts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { computed } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;vue&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { countLeft } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;../const/img-url&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { useQuery } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;villus&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> GQL </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;@/graphql&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ query: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GQL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.home.countAsFriend });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.value?.me.countAsFriend </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;--&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">script</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span></code></pre></div><p>关键代码就是：</p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">_execute</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useQuery</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({ query: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">GQL</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.home.countAsFriend });</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> count</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> computed</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data.value?.me.countAsFriend </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">??</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;--&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><blockquote><p><code>_execute</code>是我自定义的 eslint 规则：下划线开头的变量定义但未使用不会报错，因为这里可能父组件会调用这个方法，所以解构了这个变量</p></blockquote><h2 id="最后" tabindex="-1">最后 <a class="header-anchor" href="#最后" aria-label="Permalink to &quot;最后&quot;">​</a></h2><p>好了，大功告成，正如标题所说，这些是笔者在 uniapp 中使用 graphql 的一些探索，国内关于 graphql 的资料较少，结合 uniapp 资料就更少了，希望对你有所帮助，也希望大家不吝赐教。</p></div></div></main><footer class="VPDocFooter" data-v-848df726 data-v-322260ec><!--[--><!--]--><div class="edit-info" data-v-322260ec><div class="edit-link" data-v-322260ec><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/Justin3go/justin3go.com/edit/master/docs/en/posts/2023/11/14在uniapp中使用GraphQL的一些探索.md" target="_blank" rel="noreferrer" data-v-322260ec><!--[--><span class="vpi-square-pen edit-link-icon" data-v-322260ec></span> Edit this page<!--]--></a></div><div class="last-updated" data-v-322260ec><p class="VPLastUpdated" data-v-322260ec data-v-8877bc18>Last updated: <time datetime="2025-03-15T05:16:13.000Z" data-v-8877bc18></time></p></div></div><!----></footer><!--[--><!--[--><!--[--><div class="comments" data-v-2cc94eca><!----></div><!--]--><!--]--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-564dc390 data-v-8640ca23><div class="container" data-v-8640ca23><p class="message" data-v-8640ca23>Copyright © 2022-present <a href="https://justin3go.com/about">Justin3go</a>.&nbsp;&nbsp;&nbsp;✧ <a href="https://justin3go.com/en/about#toys-projects">Projects</a>&nbsp;&nbsp;&nbsp;✧ <a href="https://justin3go.com/en/about#contact-me">Contact</a>&nbsp;&nbsp;&nbsp;✧ <a href="https://justin3go.com/friends">Friends</a></p><!----></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"en_index.md\":\"CZ7abMAa\",\"en_pages_about.md\":\"dvYzcEJ7\",\"en_pages_archive.md\":\"feGyxMp_\",\"en_pages_tags.md\":\"BWgXrKBH\",\"en_posts_2020_06_01java迷宫.md\":\"Bjd66moI\",\"en_posts_2020_06_02使用anaconda中的prompt配置虚拟环境的常用命令.md\":\"ZcSAQgk0\",\"en_posts_2021_04_01scrapy爬虫详解.md\":\"z6qcezrL\",\"en_posts_2021_04_02tfidf计算的学习.md\":\"mN5UgQwf\",\"en_posts_2021_08_03操作系统内存分配模拟程序.md\":\"BMJ8fXOu\",\"en_posts_2021_08_04散列表实现查找.md\":\"CZdZ2AO5\",\"en_posts_2022_02_01都2022年了，还是得学圣杯布局与双飞翼布局.md\":\"Bxki3_Uq\",\"en_posts_2022_02_02typescript入门.md\":\"DERk4v3k\",\"en_posts_2022_02_03这道题原来可以用到js这么多知识点！.md\":\"C2To2sTO\",\"en_posts_2022_02_04git常用操作.md\":\"loTslD4z\",\"en_posts_2022_05_05前端程序员搭建自己的codeide（code-server教程）.md\":\"BlUT1OJ_\",\"en_posts_2022_05_06玩转vitepress.md\":\"mhNfQtCR\",\"en_posts_2022_05_07intersectionobserver实现横竖滚动自适应懒加载.md\":\"DUO9k-_p\",\"en_posts_2022_06_08前端构建的学习(偏向vite).md\":\"CgPonWiX\",\"en_posts_2022_06_09node模块规范及模块加载机制.md\":\"DifaTbey\",\"en_posts_2022_06_10node异步实现与事件驱动.md\":\"DOMbbXTw\",\"en_posts_2022_06_11node内存控制.md\":\"BtQ29865\",\"en_posts_2022_06_12node进程及集群相关.md\":\"CoaPKhlD\",\"en_posts_2022_10_13cdn实践配置_原理篇.md\":\"BsWETVhU\",\"en_posts_2022_10_14超详细的前端程序员git指北.md\":\"BX7aLqvn\",\"en_posts_2022_10_15javascript基础-replace方法的第二个参数.md\":\"RMBjvgCk\",\"en_posts_2022_10_16获取object的第一个元素.md\":\"frpoYWgq\",\"en_posts_2023_01_02javascript专题-原型链.md\":\"PmwA_yQz\",\"en_posts_2023_01_08javascript专题-继承.md\":\"CLxbzuyM\",\"en_posts_2023_01_25浅谈nestjs设计思想.md\":\"C4qUUaTY\",\"en_posts_2023_01_28了解api相关范式(rpc、rest、graphql).md\":\"vAjkNOP7\",\"en_posts_2023_02_04vue3相关原理梳理.md\":\"8qKOqW6N\",\"en_posts_2023_02_17聊聊源策略限制ajax请求.md\":\"2-0DDAjX\",\"en_posts_2023_02_19放弃cookie-session，拥抱jwt？.md\":\"C7wGZZDP\",\"en_posts_2023_02_23你可能忽略的10种javascript快乐写法.md\":\"CbV-VYoW\",\"en_posts_2023_03_06三个经典的typescript易混淆点.md\":\"L6lLVQQR\",\"en_posts_2023_03_22聊聊前后端分离(历史、职责划分、未来发展).md\":\"DaewtfSG\",\"en_posts_2023_03_29前端自给自足ui设计稿.md\":\"BPAdzB0F\",\"en_posts_2023_03_31极简地给个人博客添加订阅功能.md\":\"DIOZ0C9e\",\"en_posts_2023_04_05实现微信小程序(uniapp)上传头像至阿里云oss.md\":\"n1DRd2OT\",\"en_posts_2023_04_17我终于会用docker了(nest_prisma_psotgresql_nginx_https).md\":\"Bj461eUL\",\"en_posts_2023_04_20vue3_ts(uniapp)手撸一个聊天页面.md\":\"BSZTM2rY\",\"en_posts_2023_04_23nest如何实现带身份验证的graphql订阅subscription.md\":\"DDPDdI7l\",\"en_posts_2023_04_26试下微调gpt-3做一个心理问答机器人.md\":\"J0zQ2dF5\",\"en_posts_2023_05_01nest的test中的best是jest框架.md\":\"BGgslltW\",\"en_posts_2023_05_07两个多月捣鼓了一个健康类小程序.md\":\"1SlwS9ws\",\"en_posts_2023_05_09pixijs快速一览.md\":\"BNAIDBF0\",\"en_posts_2023_05_11该给系统加哪一个权限控制模型呢.md\":\"mWgUpuMB\",\"en_posts_2023_06_06简单优化下个人博客首页(迁移vitepress-beta版).md\":\"CF_IqsLe\",\"en_posts_2023_06_18vitepress博客里增加一个rss订阅.md\":\"CQOpyGJo\",\"en_posts_2023_07_02前端双token策略(uniapp-vue3-ts版).md\":\"C39Tzcrh\",\"en_posts_2023_07_26(译)面向javascript开发人员的docker简介（node.js 和 postgresql）.md\":\"C6TV5m6T\",\"en_posts_2023_08_17浅谈搜索引擎原理.md\":\"Ddt8WNKW\",\"en_posts_2023_08_18给vitepress增加短链接生成功能.md\":\"CHvIwjz4\",\"en_posts_2023_08_22web架构jamstack“以动制静”.md\":\"NfMvb6pb\",\"en_posts_2023_08_29你来你也可以做一个网盘搜索引擎.md\":\"B-BaknT7\",\"en_posts_2023_08_31原来vue还有这么多好用的ui库.md\":\"hjtHuuLT\",\"en_posts_2023_09_28vitepress中增加twitter卡片.md\":\"BZ4vB23c\",\"en_posts_2023_09_29vitepress中引入tdesign并全局增加大图预览.md\":\"DEKSiQ_J\",\"en_posts_2023_09_29自托管项目工具plane管理自己的todolist.md\":\"ClgbjaZP\",\"en_posts_2023_11_01搞个域名邮箱玩玩（如just@justin3go.com）.md\":\"Cpjg-Xv-\",\"en_posts_2023_11_08看看openai发布会.md\":\"BCKfhadT\",\"en_posts_2023_11_14在uniapp中使用graphql的一些探索.md\":\"DakrAg89\",\"en_posts_2023_11_29游标分页较传统分页的优势以及详细实现.md\":\"DuIWBlpw\",\"en_posts_2023_12_11股票基金常用指标、方法解释.md\":\"CqfoJUun\",\"en_posts_2024_01_03天冷了，笔记本也需要保暖了.md\":\"DBwki9o5\",\"en_posts_2024_01_12写个docker_nginx部https的模板.md\":\"C3rOOa3u\",\"en_posts_2024_01_26nuxt3手写一个搜索页面.md\":\"BQKCtwUT\",\"en_posts_2024_02_18又一次开始学英语了，希望这次能享受它.md\":\"DpFtHY-1\",\"en_posts_2024_04_18最近gpt帮我解决的30个问题.md\":\"ssoCcO4r\",\"en_posts_2024_04_28如何讨好读者或观众.md\":\"BPsKtt7S\",\"en_posts_2024_07_30-third-reconstruction-personal-blog-vitepress.md\":\"DRaGMdcm\",\"en_posts_2024_10_21-wechat-mini-program-dom-open-type-capability.md\":\"BEUjul9k\",\"en_posts_2025_01_21-independent-dev-800-free-templates-navigation.md\":\"46eSHOe8\",\"en_posts_2025_01_31-how-deepseek-matters-to-everyone.md\":\"DHVlds1f\",\"en_posts_2025_03_03-front-end-self-sufficient-ui-design-claude-ai-version.md\":\"Bh3n1E-H\",\"index.md\":\"CAuCReaV\",\"pages_about.md\":\"Brb6xJ7E\",\"pages_archive.md\":\"BjRoemL3\",\"pages_tags.md\":\"CvkJpZ77\",\"posts_2020_06_01java迷宫.md\":\"B1SJoplA\",\"posts_2020_06_02使用anaconda中的prompt配置虚拟环境的常用命令.md\":\"DyQo-mcb\",\"posts_2021_04_01scrapy爬虫详解.md\":\"DqN-cJRh\",\"posts_2021_04_02tfidf计算的学习.md\":\"_yLjljY-\",\"posts_2021_08_03操作系统内存分配模拟程序.md\":\"Bqs7-JNg\",\"posts_2021_08_04散列表实现查找.md\":\"D8QUi2NJ\",\"posts_2022_02_01都2022年了，还是得学圣杯布局与双飞翼布局.md\":\"LmM7akYN\",\"posts_2022_02_02typescript入门.md\":\"NGNg0SxA\",\"posts_2022_02_03这道题原来可以用到js这么多知识点！.md\":\"xa5t5bOB\",\"posts_2022_02_04git常用操作.md\":\"DRco_E_P\",\"posts_2022_05_05前端程序员搭建自己的codeide（code-server教程）.md\":\"BVKfTjMN\",\"posts_2022_05_06玩转vitepress.md\":\"D6aZd0Ih\",\"posts_2022_05_07intersectionobserver实现横竖滚动自适应懒加载.md\":\"Djt4cUkX\",\"posts_2022_06_08前端构建的学习(偏向vite).md\":\"C7fyPI09\",\"posts_2022_06_09node模块规范及模块加载机制.md\":\"CdAWKFhi\",\"posts_2022_06_10node异步实现与事件驱动.md\":\"Bbbx4O9Q\",\"posts_2022_06_11node内存控制.md\":\"C2uxY-_L\",\"posts_2022_06_12node进程及集群相关.md\":\"BLhQ7a-C\",\"posts_2022_10_13cdn实践配置_原理篇.md\":\"B8BNIfVS\",\"posts_2022_10_14超详细的前端程序员git指北.md\":\"DINfGY5c\",\"posts_2022_10_15javascript基础-replace方法的第二个参数.md\":\"D6qZ4ek9\",\"posts_2022_10_16获取object的第一个元素.md\":\"H9wQMn1t\",\"posts_2023_01_02javascript专题-原型链.md\":\"CyzoxJm_\",\"posts_2023_01_08javascript专题-继承.md\":\"Dy7izaGm\",\"posts_2023_01_25浅谈nestjs设计思想.md\":\"DVAEmHTU\",\"posts_2023_01_28了解api相关范式(rpc、rest、graphql).md\":\"PDZK1ySv\",\"posts_2023_02_04vue3相关原理梳理.md\":\"CGeVw5Pw\",\"posts_2023_02_17聊聊源策略限制ajax请求.md\":\"DKoTT-nB\",\"posts_2023_02_19放弃cookie-session，拥抱jwt？.md\":\"CeoO94vL\",\"posts_2023_02_23你可能忽略的10种javascript快乐写法.md\":\"BJAMvPUv\",\"posts_2023_03_06三个经典的typescript易混淆点.md\":\"DevAABo0\",\"posts_2023_03_22聊聊前后端分离(历史、职责划分、未来发展).md\":\"M-aK-DEz\",\"posts_2023_03_29前端自给自足ui设计稿.md\":\"B5uBsJoe\",\"posts_2023_03_31极简地给个人博客添加订阅功能.md\":\"BxeTvyPX\",\"posts_2023_04_05实现微信小程序(uniapp)上传头像至阿里云oss.md\":\"DIm6brPG\",\"posts_2023_04_17我终于会用docker了(nest_prisma_psotgresql_nginx_https).md\":\"C2147zaD\",\"posts_2023_04_20vue3_ts(uniapp)手撸一个聊天页面.md\":\"7cMxH8dv\",\"posts_2023_04_23nest如何实现带身份验证的graphql订阅subscription.md\":\"KJW43erx\",\"posts_2023_04_26试下微调gpt-3做一个心理问答机器人.md\":\"DPtxuytW\",\"posts_2023_05_01nest的test中的best是jest框架.md\":\"DDg2qL4x\",\"posts_2023_05_07两个多月捣鼓了一个健康类小程序.md\":\"qvNQ47Fy\",\"posts_2023_05_09pixijs快速一览.md\":\"C2_Jr7Jx\",\"posts_2023_05_11该给系统加哪一个权限控制模型呢.md\":\"BIvyvGF3\",\"posts_2023_06_06简单优化下个人博客首页(迁移vitepress-beta版).md\":\"doo_Z9-6\",\"posts_2023_06_18vitepress博客里增加一个rss订阅.md\":\"CbJOQWTM\",\"posts_2023_07_02前端双token策略(uniapp-vue3-ts版).md\":\"CRyiOWgR\",\"posts_2023_07_26(译)面向javascript开发人员的docker简介（node.js 和 postgresql）.md\":\"Bu5qmcZF\",\"posts_2023_08_17浅谈搜索引擎原理.md\":\"DRJBIIcb\",\"posts_2023_08_18给vitepress增加短链接生成功能.md\":\"CSoRKKTa\",\"posts_2023_08_22web架构jamstack“以动制静”.md\":\"BKqr492v\",\"posts_2023_08_29你来你也可以做一个网盘搜索引擎.md\":\"BHjroPWw\",\"posts_2023_08_31原来vue还有这么多好用的ui库.md\":\"B9YT7QPu\",\"posts_2023_09_28vitepress中增加twitter卡片.md\":\"TxSSyHrt\",\"posts_2023_09_29vitepress中引入tdesign并全局增加大图预览.md\":\"CbDdpuoL\",\"posts_2023_09_29自托管项目工具plane管理自己的todolist.md\":\"B-XW2_2a\",\"posts_2023_11_01搞个域名邮箱玩玩（如just@justin3go.com）.md\":\"DoCL5X6q\",\"posts_2023_11_08看看openai发布会.md\":\"DKcq7SB6\",\"posts_2023_11_14在uniapp中使用graphql的一些探索.md\":\"rCFnqSGS\",\"posts_2023_11_29游标分页较传统分页的优势以及详细实现.md\":\"D8TklCx6\",\"posts_2023_12_11股票基金常用指标、方法解释.md\":\"CrYWtB2f\",\"posts_2024_01_03天冷了，笔记本也需要保暖了.md\":\"Coed2jRp\",\"posts_2024_01_12写个docker_nginx部https的模板.md\":\"Dv6ong_C\",\"posts_2024_01_26nuxt3手写一个搜索页面.md\":\"CbWlOnkz\",\"posts_2024_02_18又一次开始学英语了，希望这次能享受它.md\":\"BlHB6J3v\",\"posts_2024_04_18最近gpt帮我解决的30个问题.md\":\"DpBjGkKa\",\"posts_2024_04_28如何讨好读者或观众.md\":\"DvFjwjhN\",\"posts_2024_07_30-third-reconstruction-personal-blog-vitepress.md\":\"ToYdOcBQ\",\"posts_2024_10_21-wechat-mini-program-dom-open-type-capability.md\":\"C_VuijNi\",\"posts_2025_01_21-independent-dev-800-free-templates-navigation.md\":\"B8o-ecrG\",\"posts_2025_01_31-how-deepseek-matters-to-everyone.md\":\"BHMeJ47F\",\"posts_2025_03_03-front-end-self-sufficient-ui-design-claude-ai-version.md\":\"oSfTHaB9\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"VitePress\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{},\"locales\":{\"root\":{\"label\":\"简体中文\",\"title\":\"Justin3go\",\"description\":\"坚持深耕技术领域的 T 型前端程序员, 关注独立开发与 AI，喜欢 Vuejs、Nestjs, 还会点 Python、搜索引擎、NLP、Web3、后端\",\"lang\":\"zh-Hans\",\"themeConfig\":{\"nav\":[{\"text\":\"最近\",\"link\":\"/\"},{\"text\":\"全部\",\"link\":\"/pages/archive\",\"activeMatch\":\"/pages/archive\"},{\"text\":\"关于\",\"link\":\"/pages/about\",\"activeMatch\":\"/pages/about\"},{\"text\":\"标签\",\"link\":\"pages/tags\",\"activeMatch\":\"pages/tags\"}],\"footer\":{\"message\":\"Copyright © 2022-present <a href=\\\"https://justin3go.com/about\\\">Justin3go</a>.&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/about#%E7%8E%A9%E5%85%B7-%E4%BD%9C%E5%93%81\\\">个人项目</a>&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/about#%E8%81%94%E7%B3%BB%E6%88%91\\\">联系方式</a>&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/friends\\\">友情链接</a>\"},\"docFooter\":{\"prev\":\"上一篇\",\"next\":\"下一篇\"},\"outlineTitle\":\"当前页面\",\"lastUpdatedText\":\"最近更新时间\",\"socialLinks\":[{\"icon\":\"x\",\"link\":\"https://x.com/Justin1024go\"},{\"icon\":\"github\",\"link\":\"https://github.com/Justin3go/justin3go.com\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"512\\\" height=\\\"512\\\" viewBox=\\\"0 0 512 512\\\"><title>RSS</title><path d=\\\"M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z\\\"/><path d=\\\"M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z\\\"/><path d=\\\"M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z\\\"/></svg>\"},\"link\":\"/feed.xml\"}],\"editLink\":{\"pattern\":\"https://github.com/Justin3go/justin3go.com/edit/master/docs/:path\",\"text\":\"在 GitHub 上编辑此页\"},\"returnToTopLabel\":\"回到顶部\",\"sidebarMenuLabel\":\"目录\",\"darkModeSwitchLabel\":\"深色模式\"}},\"en\":{\"label\":\"English\",\"title\":\"Justin3go\",\"description\":\"A T-shaped front-end developer who is committed to deepening expertise in the technical field, focuses on independent development and AI, enjoys working with Vue.js and Nest.js, and has some knowledge of Python, search engines, NLP, Web3, and back-end development.\",\"lang\":\"en-US\",\"themeConfig\":{\"nav\":[{\"text\":\"Blog\",\"link\":\"/en/\"},{\"text\":\"Archive\",\"link\":\"/en/pages/archive/\",\"activeMatch\":\"/en/pages/archive/\"},{\"text\":\"About\",\"link\":\"/en/pages/about\",\"activeMatch\":\"/en/pages/about\"},{\"text\":\"Tags\",\"link\":\"/en/pages/tags\",\"activeMatch\":\"/en/pages/tags\"}],\"footer\":{\"message\":\"Copyright © 2022-present <a href=\\\"https://justin3go.com/about\\\">Justin3go</a>.&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/en/about#toys-projects\\\">Projects</a>&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/en/about#contact-me\\\">Contact</a>&nbsp;&nbsp;&nbsp;✧ <a href=\\\"https://justin3go.com/friends\\\">Friends</a>\"},\"socialLinks\":[{\"icon\":\"x\",\"link\":\"https://x.com/Justin1024go\"},{\"icon\":\"github\",\"link\":\"https://github.com/Justin3go/justin3go.com\"},{\"icon\":{\"svg\":\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"512\\\" height=\\\"512\\\" viewBox=\\\"0 0 512 512\\\"><title>RSS</title><path d=\\\"M108.56,342.78a60.34,60.34,0,1,0,60.56,60.44A60.63,60.63,0,0,0,108.56,342.78Z\\\"/><path d=\\\"M48,186.67v86.55c52,0,101.94,15.39,138.67,52.11s52,86.56,52,138.67h86.66C325.33,312.44,199.67,186.67,48,186.67Z\\\"/><path d=\\\"M48,48v86.56c185.25,0,329.22,144.08,329.22,329.44H464C464,234.66,277.67,48,48,48Z\\\"/></svg>\"},\"link\":\"/feed-en.xml\"}],\"editLink\":{\"pattern\":\"https://github.com/Justin3go/justin3go.com/edit/master/docs/:path\"}}}},\"scrollOffset\":134,\"cleanUrls\":true}");</script>
    
  </body>
</html>